# 12、使用注解开发

## 一、面向接口编程

**面向接口编程含义**

在一个面向对象的系统中，系统的各种功能是由许许多多的不同对象协作完成的。在这种情况下，各个对象内部是如何实现自己的,对系统设计人员来讲就不那么重要了；而各个对象之间的协作关系则成为系统设计的关键。小到不同类之间的通信，大到各模块之间的交互，在系统设计之初都是要着重考虑的，这也是系统设计的主要工作内容。面向接口编程就是指按照这种思想来编程。

**根本原因**：**==解耦==，可拓展，提高复用，分层开发中，上层不用管具体的实现，都遵守共同的标准，使得开发变得容易，规范性好。**



**关于接口的理解**

接口从更深层次的理解，应是定义与实现的分离。

接口的本身反应了系统设计人员对系统的抽象理解。

接口应有两类：

- 第一类是对一个个体的抽象，它可对应一个抽象体；
- 第二类是对一个个体某一方面的抽象，即形成了一个抽象面。

一个个体有可能有多个抽象面。抽象体与抽象面是有区别的。



**三个面向区别**

面向对象是指，我们考虑问题时，以对象为单位，考虑它的属性及方法。

面向过程是指，我们考虑问题时，以一个具体的流程（事务过程）为单位，考虑它的实现。

接口设计与非接口设计是针对复用技术而言的，与面向对象（过程）不是一个问题。更多的体现就是对系统整体的架构。



## 二、使用注解开发

1. 注解在接口上实现

```java
public interface UserMapper {

    @Select("select * from user")
    List<User> getUsers();
}
```

2. 需要在核心配置文件中绑定接口

```xml
<!--绑定接口-->
    <mappers>
        <mapper class="xleixz.dao.UserMapper"/>
    </mappers>
```

3. 测试

```java
  @Test
    public void test(){

       SqlSession sqlSession = MybatisUtils.getSqlSession();

       //底层主要应用反射
       UserMapper mapper = sqlSession.getMapper(UserMapper.class);
       List<User> users = mapper.getUsers();

       for (User user : users) {
           System.out.println(user);
       }

       sqlSession.close();
   }

```



本质：反射机制实现。

底层：动态代理。

![动态代理](https://gitee.com/xleixz/cloud-notes/raw/master/Typora-Images/20220423180646.png)

